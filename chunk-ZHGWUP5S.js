import{G as g,Ia as p,Ma as y,bb as b,d as c,eb as S,f as d,p as m,s as u,t as f}from"./chunk-3IUMHZR4.js";var a=(function(s){return s.Light="light-theme",s.Dark="dark-theme",s.Black="black-theme",s})(a||{}),k=(()=>{class s{constructor(t){this.meta=t,this.isBrowser=p(f(g))}set(t){t==a.Light?(this.themeType=t,this.meta.updateTag({name:"theme-color",content:"#f5f5f5"})):t==a.Dark?(this.themeType=t,this.meta.updateTag({name:"theme-color",content:"#26292f"})):t==a.Black&&(this.themeType=t,this.meta.updateTag({name:"theme-color",content:"#000000"})),this.isBrowser&&localStorage.setItem("theme",t)}getSaved(){if(this.isBrowser){let t=localStorage.getItem("theme");if(t==a.Light||t==a.Dark||t==a.Black)return t;if(localStorage.removeItem("theme"),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)return a.Dark}return a.Light}isLight(){return this.themeType==a.Light}isDark(){return this.themeType==a.Dark}isBlack(){return this.themeType==a.Black}getTheme(){return this.themeType}static{this.\u0275fac=function(i){return new(i||s)(u(y))}}static{this.\u0275prov=m({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var r=(function(s){return s[s.Quick=0]="Quick",s[s.Selection=1]="Selection",s[s.Insertion=2]="Insertion",s[s.Bubble=3]="Bubble",s[s.Count=4]="Count",s})(r||{}),P=(()=>{class s{constructor(t,i,e){this.snackbar=t,this.browser=i,this.themeService=e,this.redIdx=-1,this.greenIDX=-1,this.sortComplete$=new d,this.numElements=250,this.delayTime=1,this._isProcessing=!1,this._isSorted=!1,this.generateNewArray(),this.widthSub=this.browser.widthChanges.subscribe(n=>{this._isProcessing||setTimeout(()=>this.updateChart())})}ngOnDestroy(){this.widthSub.unsubscribe()}onSort(t){switch(this._isProcessing=!0,this.setAppropriateDelay(t),t){case r.Quick:this.quickSort().then(i=>{this.redIdx=-1,this.greenIDX=-1,this.updateChart(),this._isProcessing=!1,this._isSorted=!0,this.sortComplete$.next()});break;case r.Selection:this.selectionSort().then(()=>{this._isSorted=!0});break;case r.Insertion:this.insertionSort();break;case r.Bubble:this.bubbleSort();break;case r.Count:this.countSourt(0,400);break;default:this.snackbar.open("Something went wrong","",{duration:3e3}),this._isProcessing=!1;break}}setNumElements(t){this.numElements=t}setChartRef(t){this.chartRef=t}setDelay(t){this.delayTime=t}isProcessing(){return this._isProcessing}isSorted(){return this._isSorted}getDelay(){return this.delayTime}getAlgorithms(){return[{name:"Quick Sort",kind:r.Quick},{name:"Selection Sort",kind:r.Selection},{name:"Insertion Sort",kind:r.Insertion},{name:"Bubble Sort",kind:r.Bubble},{name:"Count Sort",kind:r.Count}]}updateChart(){let t="";this.chartRef.nativeElement.innerHTML="";let i=0;for(let e of this.array)t+=`
        <div style="width: ${this.getElementWidth()}; height: ${this.getElementHeight(e)}; float: left;
          background-color: ${this.getBackgroundColor(i)}; border: 0.1px solid #303030;"></div>
      `,i++;this.chartRef.nativeElement.innerHTML=t}getElementWidth(){return`${this.chartRef.nativeElement.offsetWidth/this.numElements}px`}getElementHeight(t){return`${t/4}%`}getBackgroundColor(t){return this.redIdx===t?this.themeService.isLight()?"rgb(245, 49, 127)":"rgb(190, 54, 54)":this.greenIDX===t?this.themeService.isLight()?"rgb(76, 235, 59)":"rgb(20, 135, 72)":this.themeService.isLight()?"rgb(60, 80, 115)":"rgb(215, 183, 180)"}randomize(){this._isProcessing||(this.generateNewArray(),this.updateChart(),this._isSorted=!1)}delay(){return c(this,null,function*(){return this.delayTime===0?Promise.resolve():new Promise(t=>{setTimeout(t,this.delayTime)})})}generateNewArray(){this.array=[];for(let t=0;t<this.numElements;t++)this.array.push(this.getRandInt(400)+1)}getRandInt(t){return Math.floor(Math.random()*Math.floor(t))}setAppropriateDelay(t){switch(t){case r.Quick:this.numElements===50?this.setDelay(100):this.numElements===100||this.numElements===150?this.setDelay(25):this.numElements<=300?this.setDelay(10):this.setDelay(.001);break;case r.Count:case r.Selection:this.numElements===50?this.setDelay(100):this.numElements===100?this.setDelay(50):this.numElements<=200?this.setDelay(25):this.numElements<=300?this.setDelay(10):this.setDelay(5);break;case r.Insertion:case r.Bubble:this.setDelay(15);break;default:this.snackbar.open("Something went wrong when setting delay","",{duration:3e3});break}}resetSortVals(){this._isProcessing=!1,this._isSorted=!0,this.redIdx=-1,this.greenIDX=-1,this.updateChart(),this.sortComplete$.next()}quickSort(){return c(this,arguments,function*(t=this.array,i=0,e=t.length-1){let n;return this.array=t,t.length>1&&(n=yield this.partition(t,i,e),i<n-1&&(yield this.quickSort(t,i,n-1)),n<e&&(yield this.quickSort(t,n,e))),this.array=t,t})}partition(n){return c(this,arguments,function*(t,i=0,e=t.length-1){let h=t[Math.floor((e+i)/2)],o=i,l=e;for(;o<=l;){for(;t[o]<h;)o++;for(;t[l]>h;)l--;o<=l&&([t[o],t[l]]=[t[l],t[o]],o++,l--,this.redIdx=o,this.greenIDX=l,this.updateChart(),yield this.delay())}return Promise.resolve(o)})}selectionSort(){return c(this,null,function*(){for(let t=0;t<this.array.length;t++){let i=t;for(let e=t+1;e<this.array.length;e++)this.array[e]<this.array[i]&&(i=e);if(i!==t){let e=this.array[t];this.array[t]=this.array[i],this.array[i]=e,this.redIdx=t,this.greenIDX=i,this.updateChart(),yield this.delay()}}this.resetSortVals()})}insertionSort(){return c(this,null,function*(){for(let t=0;t<this.array.length;t++){let i=this.array[t],e;for(this.greenIDX=t,this.redIdx=t-1,this.updateChart(),yield this.delay(),yield this.delay(),yield this.delay(),e=t;e>0&&i<this.array[e-1];e--)this.array[e]=this.array[e-1],this.redIdx=t,this.greenIDX=e,this.updateChart(),yield this.delay();this.array[e]=i}this.resetSortVals()})}bubbleSort(){return c(this,arguments,function*(t=this.array){let i=!1;for(;!i;){i=!0;for(let e=1;e<t.length;e++)this.greenIDX=e,t[e-1]>t[e]&&(i=!1,[t[e-1],t[e]]=[t[e],t[e-1]],this.redIdx=e-1,this.updateChart(),yield this.delay())}this.resetSortVals()})}countSourt(t,i){return c(this,null,function*(){let e=0,n=[];for(let h=t;h<=i;h++)n[h]=0;for(let h of this.array)n[h]++,this.redIdx++,this.updateChart(),yield this.delay();this.redIdx=-1;for(let h=t;h<=i;h++)for(;n[h]-- >0;)this.array[e++]=h,this.greenIDX=e,this.updateChart(),yield this.delay();this.resetSortVals()})}static{this.\u0275fac=function(i){return new(i||s)(u(S),u(b),u(k))}}static{this.\u0275prov=m({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{a,k as b,r as c,P as d};
