@use '@angular/material' as mat;

// Define light theme using Material 3 API
$light-app-theme: mat.define-theme((
  color: (
    theme-type: light,
    primary: mat.$azure-palette,
    tertiary: mat.$blue-palette,
  )
));

// Define dark theme
$dark-app-theme: mat.define-theme((
  color: (
    theme-type: dark,
    primary: mat.$azure-palette,
    tertiary: mat.$blue-palette,
  )
));

// Define black theme (same as dark but with custom overrides)
$black-app-theme: mat.define-theme((
  color: (
    theme-type: dark,
    primary: mat.$azure-palette,
    tertiary: mat.$blue-palette,
  )
));

// Apply light theme as the default
@include mat.all-component-themes($light-app-theme);

.black-theme {
  @include mat.all-component-colors($black-app-theme);

  .mat-app-background,
  .mat-toolbar { background-color: #000000; color: rgb(236, 236, 236) }
  .mat-expansion-panel,
  .mat-mdc-card { background-color: #1a1a1a; color: rgb(236, 236, 236) }
  .mat-menu { background-color: #1a1a1a; color: rgb(236, 236, 236) }
  .mat-dialog-container { background-color: #1a1a1a; color: rgb(236, 236, 236) }

  // Fix form field labels and borders visibility
  .mat-mdc-form-field {
    .mat-mdc-text-field-wrapper {
      background-color: #1a1a1a !important;
    }

    // Ensure labels are visible
    .mat-mdc-floating-label {
      color: rgba(255, 255, 255, 0.7) !important;
    }

    // Ensure focused labels are visible
    &.mat-focused .mat-mdc-floating-label {
      color: rgba(255, 255, 255, 0.87) !important;
    }

    // Ensure borders are visible
    .mat-mdc-form-field-bottom-align::before {
      display: none;
    }

    .mdc-text-field--outlined .mdc-notched-outline__leading,
    .mdc-text-field--outlined .mdc-notched-outline__notch,
    .mdc-text-field--outlined .mdc-notched-outline__trailing {
      border-color: rgba(255, 255, 255, 0.3) !important;
    }

    // Ensure focused borders are visible
    &.mat-focused {
      .mdc-text-field--outlined .mdc-notched-outline__leading,
      .mdc-text-field--outlined .mdc-notched-outline__notch,
      .mdc-text-field--outlined .mdc-notched-outline__trailing {
        border-color: rgba(255, 255, 255, 0.87) !important;
      }
    }

    // Ensure input text is visible
    input, textarea {
      color: rgba(255, 255, 255, 0.87) !important;
      caret-color: rgba(255, 255, 255, 0.87) !important;
    }
  }
}

.dark-theme {
  @include mat.all-component-colors($dark-app-theme);

  color: white;

  h1, h2, h3, h4, h5, h6 {
    color: white;
  }

  .mat-expansion-panel,
  .mat-mdc-dialog-surface,
  .mat-mdc-menu-panel,
  .mat-mdc-select-panel,
  .mat-mdc-card,
  .mat-toolbar {
    background-color: rgb(37, 41, 47) !important;
    color: white;
  }
  .mat-mdc-text-field-wrapper,
  .mat-app-background {
    background-color: rgb(13, 17, 22) !important;
  }
}

.light-theme {
  @include mat.all-component-colors($light-app-theme);

  .mat-toolbar {
    background-color: rgb(246, 248, 250);
  }
  .mat-app-background {
    background-color: rgb(255, 255, 255);
  }
}
